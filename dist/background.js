import{l as o,s as l,g as i}from"./assets/storage-Df2cdcmd.js";const r="[EnergyTracker-bg]";function a(...t){console.log(r,...t)}chrome.runtime.onInstalled.addListener(()=>{a("onInstalled"),o().then(t=>{(!t||!t.total)&&(a("initializing default stats"),l(i()))})});chrome.runtime.onMessage.addListener((t,d,e)=>{if((t==null?void 0:t.type)==="CHAT_QUERY")return a("received CHAT_QUERY",t),handleChatQuery(t).then(n=>{a("stats updated"),e({ok:!0,stats:n})}).catch(n=>{a("error in handleChatQuery",n),e({ok:!1,error:n==null?void 0:n.message})}),!0;a("unknown message",t)});
